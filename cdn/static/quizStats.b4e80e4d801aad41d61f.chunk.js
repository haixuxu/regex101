(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[5],{R6KV:function(e,t,r){"use strict";r.r(t);var n,a,o,i,s=r("q1tI"),l=r.n(s),c=r("17x9"),u=r.n(c),f=r("/MKj"),p=r("ps87"),b=r("t7U6"),d=r("y9N3"),y=r("J+eN"),m=r("b+jq"),h=r("nJDY"),v=r("2Ovm"),g=r("J1Zg"),O=r("yfca"),E=r("sCiT"),k=r("b0lc"),R=r("fyBV"),j=r("oZrG"),S=r("DlAP");function _(e){return(_="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=Object(f.b)(function(e,t){var r=e.quiz.allTasks[t.taskIdx-1];return{stats:r?r.stats:null,theme:e.general.currentTheme}})(n=Object(j.b)(function(e,t,r){return{statisticsFetch:(null==e.stats||r)&&Object(O.k)(e.taskIdx-1,e.taskNumber)}})((i=o=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(o,s.PureComponent);var t,r,n,a=(r=o,n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t,a=T(r);if(n){var o=T(this).constructor;e=Reflect.construct(a,arguments,o)}else e=a.apply(this,arguments);return this,!(t=e)||"object"!==_(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this):t});function o(){return function(e,t){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}(this),a.apply(this,arguments)}return(t=[{key:"componentDidUpdate",value:function(e){e.bestSolution!==this.props.bestSolution&&this.props.fetchData()}},{key:"render",value:function(){var e=this.props,t=e.statisticsFetch,r=e.stats,n=e.theme,a=e.bestSolution;if(t.isFetchingData)return l.a.createElement(k.w,{size:R.d.TINY,className:"YcbQq"});if(t.fetchError)return l.a.createElement(k.s,{type:R.c.ERROR,className:"OZV5f"},Object(E.a)("Unable to fetch detailed task statistics. Please try again later."));if(!r)return null;var o=n===S.b?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)",i=n===S.b?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.3)",s=n===S.b?"#ad8a1d":"#debc4e",c=n===S.b?"#6b4c00":"#a77e00";return l.a.createElement("div",{className:"_2B8sX"},l.a.createElement(p.a,{debounce:300},l.a.createElement(b.a,{data:r,maxBarSize:20},l.a.createElement(d.a,{strokeDasharray:"3 3",stroke:i}),l.a.createElement(y.a,{dataKey:"score",label:{value:Object(E.a)("RegEx Score (lower is better)"),position:"insideBottom",fill:i,offset:0,height:50},stroke:o}),l.a.createElement(m.a,{dataKey:"totalUsersPercent",label:{value:Object(E.a)("User distribution (%)"),angle:270,position:"insideLeft",fill:i,style:{textAnchor:"middle"}},stroke:o,width:40}),l.a.createElement(h.a,{content:this._renderTooltip,cursor:{fill:"black",fillOpacity:.2}}),l.a.createElement(v.a,{dataKey:"totalUsersPercent",name:Object(E.a)("Quiz Submission Score")},r.map(function(e){var t=e.score===a?c:s;return l.a.createElement(g.a,{key:"bar-score-".concat(e.score),fill:t})})))))}},{key:"_renderTooltip",value:function(e){if(null==e.payload||null==e.payload[0])return null;var t=e.label,r=this.props.stats.find(function(e){return e.score===t});return t===this.props.bestSolution?l.a.createElement(k.x,{text:"{1} user(s) (including you) have a score of {2}, better than {3}% of submissions",ph1:l.a.createElement("strong",null,(null===r||void 0===r?void 0:r.totalUsers)||0),ph2:l.a.createElement("strong",null,t),ph3:l.a.createElement("strong",null,(null===r||void 0===r?void 0:r.betterThan)||0),className:"_1V2SR"}):l.a.createElement(k.x,{text:"{1} user(s) have a score of {2}, better than {3}% of submissions",ph1:l.a.createElement("strong",null,(null===r||void 0===r?void 0:r.totalUsers)||0),ph2:l.a.createElement("strong",null,t),ph3:l.a.createElement("strong",null,(null===r||void 0===r?void 0:r.betterThan)||0),className:"_1V2SR"})}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(o.prototype,t),o}(),o.propTypes={taskNumber:u.a.number.isRequired,taskIdx:u.a.number.isRequired,bestSolution:u.a.number.isRequired,stats:u.a.arrayOf(u.a.shape({totalUsers:u.a.number.isRequired,score:u.a.number.isRequired})),statisticsFetch:u.a.object.isRequired,fetchData:u.a.func.isRequired,theme:u.a.string.isRequired},function(e,t,r,n,a){var o={};Object.keys(n).forEach(function(e){o[e]=n[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=r.slice().reverse().reduce(function(t,r){return r(e,"_renderTooltip",t)||t},o),a&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(a):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,"_renderTooltip",o),o=null)}((a=i).prototype,0,[j.a],Object.getOwnPropertyDescriptor(a.prototype,"_renderTooltip"),a.prototype),n=a))||n)||n;t.default=x}}]);